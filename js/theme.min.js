!function(){"use strict";const t=document.getElementById("primary-menu");t&&function(t){const e=[],n=t.querySelectorAll("ul");for(const t of n)e.push(t.parentElement);e.forEach(t=>{const e=t.querySelector("ul"),n=t.querySelector(":scope > a");if(!e||!n)return;e.id||=t.id?`${t.id}_submenu`:`expander-${crypto.randomUUID()}`;const s=document.createElement("button");s.classList.add("btn--link"),s.dataset.expand=e.id,s.classList.add("expander-toggle");const i=n.getAttribute("href");!i||"#"===i?([...n.attributes].forEach(t=>{"href"!==t.name&&s.setAttribute(t.name,t.value)}),s.innerHTML=n.innerHTML.trim(),n.replaceWith(s)):(s.ariaLabel=`Toggle ${n.textContent.trim()} submenu`,t.append(s))})}(t);class e{constructor(t,e={}){const n=t.getAttribute("data-expand");this.content=document.getElementById(n),this.content&&(this.button=t,this.parent=t.parentElement,this.settings=Object.freeze({collapseOnOutsideClick:!0,...e}),this.init())}get isOpen(){return"true"===this.button.getAttribute("aria-expanded")}set isOpen(t){this.button.setAttribute("aria-expanded",!!t),this.content.setAttribute("aria-hidden",!t)}init(){this.button.setAttribute("aria-controls",this.content.id),this.isOpen=!1,document.addEventListener("click",this.handleEvents),this.parent.addEventListener("keydown",this.handleEvents),this.parent.addEventListener("focusout",this.handleEvents)}handleEvents=t=>{"keydown"===t.type&&"Escape"===t.key&&this.isOpen&&(t.stopPropagation(),this.content.contains(document.activeElement)&&this.button.focus(),this.isOpen=!1),"click"===t.type&&(this.button.contains(t.target)?this.isOpen=!this.isOpen:this.settings.collapseOnOutsideClick&&!this.parent.contains(t.target)&&(this.isOpen=!1)),"focusout"===t.type&&t.relatedTarget&&!this.parent.contains(t.relatedTarget)&&(this.isOpen=!1)}}!function(){const t=document.querySelectorAll("[data-expand]");if(t.length)for(const n of t)new e(n)}()}();
//# sourceMappingURL=theme.min.js.map
